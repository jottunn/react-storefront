fragment CheckoutLineDetailsFragment on CheckoutLine {
  id
  totalPrice {
    gross {
      ...PriceFragment
    }
  }
  undiscountedUnitPrice {
      ...PriceFragment
  }
  undiscountedTotalPrice {
      ...PriceFragment
  }
  variant {
    id
    quantityAvailable
    quantityLimitPerCustomer
    product {
      id
      name
      translation(languageCode: $locale) {
        id
        name
      }
      slug
      thumbnail(size: 128, format: WEBP) {
        ...ImageFragment
      }
      isAvailableForPurchase
    }
    media {
      ...ProductMediaFragment
    }
    attributes {
      ...SelectedAttributeDetailsFragment
    }
    pricing {
      onSale
      priceUndiscounted {
        gross {
            currency
            amount
        }
      }
      discount {
        gross {
            currency
            amount
        }
      }
      price {
        gross {
            currency
            amount
        }
      }
    }
    name
    translation(languageCode: $locale) {
      id
      name
    }
  }
  quantity
  problems {
    ... on CheckoutLineProblemInsufficientStock {
      availableQuantity
    }
    ... on CheckoutLineProblemVariantNotAvailable {
      __typename
    }
  }
}
