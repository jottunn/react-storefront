fragment CheckoutDetailsFragment on Checkout {
  id
  email
  billingAddress {
    ...AddressDetailsFragment
  }
  shippingAddress {
    ...AddressDetailsFragment
  }
  deliveryMethod {
    ...DeliveryMethodFragment
  }
  isShippingRequired
  shippingMethods {
    ...DeliveryMethodFragment
  }
  availablePaymentGateways {
    id
    name
    config {
      field
      value
    }
  }
  lines {
    ...CheckoutLineDetailsFragment
  }
  discount {
    ...PriceFragment
  }
  voucherCode
  discountName
  subtotalPrice {
    net {
      ...PriceFragment
    }
    tax {
      ...PriceFragment
    }
  }
  shippingPrice {
    gross {
      ...PriceFragment
    }
  }
  totalPrice {
    gross {
      ...PriceFragment
    }
  }
  problems {
    ... on CheckoutLineProblemInsufficientStock {
      availableQuantity
    }
    ... on CheckoutLineProblemVariantNotAvailable {
      __typename
    }
  }
}
